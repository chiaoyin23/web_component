<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>forgetPasswordPage</title>
    <link href="../image/logo.png" rel="icon">
    <link rel="stylesheet" href="./forgetPasswordPage.css">
    
</head>
<body>
    <main>
        <div class="card">
            <div class="greetings">
                <div>
                    <h1 class="hello">政大通-NCCU PASS</h1>
                    <h1 class="hello1">忘記密碼</h1>
                </div>
            </div>

            <div class="welcome">
                <div class="info"> 
                    <img src="../image/logo.png" alt="">
                    <p>新密碼 : </p>
                    <input type="text" id="password" name="password" required minlength="8" size="20" />
                   
                    <p>確認密碼 : </p>
                    <input type="text" id="confirmpassword" name="confirmpassword" required minlength="8" size="20" />
                   
                </div>
                <button id="callApiButton" class="button">確認送出</button>
            </div>

        </div>  
    </main>

    <script>
        const button = document.getElementById('callApiButton');

        button.addEventListener('click', () => {

            // 這邊怎麼取得
            const userId = 'your-user-id';
            const token = 'your-token'; 

            //url的地方 前面的網址http....
            const apiUrl = `/api/nccupass/UserIdentity/verify/${userId}/${token}`;

            fetch(apiUrl)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('network error');
                    }
                    return response.json();
                })
                .then(data => {
                    console.log(data);

                    window.location.href = 'https://nccupass.com/';
                })
                .catch(error => {
                    console.error('error', error);
                });
        });
    </script>
   

    
</body>
</html>